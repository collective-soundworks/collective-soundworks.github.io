<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Using Plugins 1 - The platform-init Plugin | soundworks</title>
    <meta name="description" content="Creative coding framework for distributed applications based on Web technologies">
    <link rel="preload stylesheet" href="/assets/style.ee1d3f24.css" as="style">
    
    <script type="module" src="/assets/app.86591d6c.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.a5027060.js">
    <link rel="modulepreload" href="/assets/chunks/theme.355f8e20.js">
    <link rel="modulepreload" href="/assets/tutorials_plugin-platform-init.md.295295ef.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-9d8abc1e><!--[--><!--]--><!--[--><span tabindex="-1" data-v-c8291ffa></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-c8291ffa> Skip to content </a><!--]--><!----><header class="VPNav" data-v-9d8abc1e data-v-7ad780c2><div class="VPNavBar has-sidebar" data-v-7ad780c2 data-v-f1abbc6e><div class="container" data-v-f1abbc6e><div class="title" data-v-f1abbc6e><div class="VPNavBarTitle has-sidebar" data-v-f1abbc6e data-v-2973dbb4><a class="title" href="/" data-v-2973dbb4><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo-nav.png" alt data-v-ab19afbb><!--]--><!--[-->soundworks<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-f1abbc6e><div class="curtain" data-v-f1abbc6e></div><div class="content-body" data-v-f1abbc6e><!--[--><!--]--><div class="VPNavBarSearch search" data-v-f1abbc6e><!----><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><span class="DocSearch-Button-Key">Meta</span><span class="DocSearch-Button-Key">K</span></span></button></div></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-f1abbc6e data-v-f732b5d0><span id="main-nav-aria-label" class="visually-hidden" data-v-f732b5d0>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/tutorials/getting-started.html" tabindex="0" data-v-f732b5d0 data-v-cb318fec><!--[--><span data-v-cb318fec>Guide</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://soundworks.dev/soundworks" target="_blank" rel="noreferrer" tabindex="0" data-v-f732b5d0 data-v-cb318fec><!--[--><span data-v-cb318fec>soundworks API</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/credits.html" tabindex="0" data-v-f732b5d0 data-v-cb318fec><!--[--><span data-v-cb318fec>Credits</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-f1abbc6e data-v-283b26e9><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-283b26e9 data-v-3329432d data-v-1c29e291><span class="check" data-v-1c29e291><span class="icon" data-v-1c29e291><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-3329432d><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-3329432d><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-f1abbc6e data-v-ef6192dc data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/collective-soundworks/" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-16cf740a><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-f1abbc6e data-v-8e87c032 data-v-aa8de344><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-aa8de344><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-aa8de344><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-aa8de344><div class="VPMenu" data-v-aa8de344 data-v-e42ed9b3><!----><!--[--><!--[--><!----><div class="group" data-v-8e87c032><div class="item appearance" data-v-8e87c032><p class="label" data-v-8e87c032>Appearance</p><div class="appearance-action" data-v-8e87c032><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-8e87c032 data-v-3329432d data-v-1c29e291><span class="check" data-v-1c29e291><span class="icon" data-v-1c29e291><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-3329432d><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-3329432d><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-8e87c032><div class="item social-links" data-v-8e87c032><div class="VPSocialLinks social-links-list" data-v-8e87c032 data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/collective-soundworks/" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-16cf740a><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-f1abbc6e data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav reached-top" data-v-9d8abc1e data-v-9e669cc1><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-9e669cc1><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-9e669cc1><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-9e669cc1>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-9e669cc1 data-v-24251f6f><button data-v-24251f6f>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-9d8abc1e data-v-ee2efba5><div class="curtain" data-v-ee2efba5></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-ee2efba5><span class="visually-hidden" id="sidebar-aria-label" data-v-ee2efba5> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0" data-v-ee2efba5 data-v-bd01e0d5><!----><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/introduction.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Introduction</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 has-active" data-v-ee2efba5 data-v-bd01e0d5><div class="item" role="button" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><h2 class="text" data-v-bd01e0d5>Tutorials</h2><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/tutorials/getting-started.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Getting Started</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/tutorials/state-manager.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Using the State Manager</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/tutorials/plugin-platform-init.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Using Plugins 1 - <i>platform-init</i></p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/tutorials/todo-noise.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>The <i>Todo Noise</i> Application</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/tutorials/plugin-sync.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Using Plugins 2 - <i>sync</i></p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0" data-v-ee2efba5 data-v-bd01e0d5><div class="item" role="button" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><h2 class="text" data-v-bd01e0d5>Documentation</h2><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link vp-external-link-icon link" href="https://soundworks.dev/soundworks" target="_blank" rel="noreferrer" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>soundworks API</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/plugins/filesystem.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Plugin Filesystem</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/plugins/logger.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Plugin Logger</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/plugins/platform-init.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Plugin Platform Init</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/plugins/position.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Plugin Position</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/plugins/scripting.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Plugin Scripting</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/plugins/sync.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Plugin Sync</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><div class="VPSidebarItem level-0" data-v-ee2efba5 data-v-bd01e0d5><div class="item" role="button" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><p class="text" data-v-bd01e0d5>Receipes</p><!----></div><!----></div></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0" data-v-ee2efba5 data-v-bd01e0d5><div class="item" role="button" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><h2 class="text" data-v-bd01e0d5>Ecosystem</h2><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link vp-external-link-icon link" href="https://ircam-ismm.github.io/sc-components" target="_blank" rel="noreferrer" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>@ircam/sc-components</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0" data-v-ee2efba5 data-v-bd01e0d5><div class="item" role="button" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><h2 class="text" data-v-bd01e0d5>Misc</h2><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/misc/setting-up-environment.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Setting up an Environment</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-9d8abc1e data-v-3cf691b6><div class="VPDoc has-sidebar has-aside" data-v-3cf691b6 data-v-a3c25e27><!--[--><!--]--><div class="container" data-v-a3c25e27><div class="aside" data-v-a3c25e27><div class="aside-curtain" data-v-a3c25e27></div><div class="aside-container" data-v-a3c25e27><div class="aside-content" data-v-a3c25e27><div class="VPDocAside" data-v-a3c25e27 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-cb998dce data-v-3a6c4994><div class="content" data-v-3a6c4994><div class="outline-marker" data-v-3a6c4994></div><div class="outline-title" role="heading" aria-level="2" data-v-3a6c4994>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-3a6c4994><span class="visually-hidden" id="doc-outline-aria-label" data-v-3a6c4994> Table of Contents for current page </span><ul class="root" data-v-3a6c4994 data-v-463da30f><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-a3c25e27><div class="content-container" data-v-a3c25e27><!--[--><!--]--><!----><main class="main" data-v-a3c25e27><div style="position:relative;" class="vp-doc _tutorials_plugin-platform-init" data-v-a3c25e27><div><h1 id="using-plugins-1-the-platform-init-plugin" tabindex="-1">Using Plugins 1 - The <em>platform-init</em> Plugin <a class="header-anchor" href="#using-plugins-1-the-platform-init-plugin" aria-label="Permalink to &quot;Using Plugins 1 - The _platform-init_ Plugin&quot;">​</a></h1><p>In this first tutorial on <em>soundworks</em> plugins, we will learn why and how to use the <em>platform-init</em> plugin, which aims to simplify the use of certain features (such as the Web Audio API) that require a user gesture to be properly initialized.</p><p>The tutorial requires basic knowledge of the <code>soundworks</code> wizard, so please refer to the <a href="/tutorials/getting-started.html">getting started tutorial</a> if you didn&#39;t check it yet.</p><h3 id="relevant-documentation" tabindex="-1">Relevant documentation <a class="header-anchor" href="#relevant-documentation" aria-label="Permalink to &quot;Relevant documentation&quot;">​</a></h3><ul><li><a href="https://soundworks.dev/soundworks/client.PluginManager" target="_blank" rel="noreferrer">client.PluginManager</a></li><li><a href="https://soundworks.dev/soundworks/server.PluginManager" target="_blank" rel="noreferrer">server.PluginManager</a></li><li><a href="https://github.com/collective-soundworks/soundworks-plugin-platform-init" target="_blank" rel="noreferrer">@soundworks/plugin-platform-init</a></li></ul><h2 id="scaffolding-the-application-and-installing-the-plugin" tabindex="-1">Scaffolding the application and installing the plugin <a class="header-anchor" href="#scaffolding-the-application-and-installing-the-plugin" aria-label="Permalink to &quot;Scaffolding the application and installing the plugin&quot;">​</a></h2><p>First thing first, let&#39;s generate a new empty application with the <code>@soundworks/create</code> wizard. When the wizard will ask you for the name of the default client, enter the following informations:</p><ul><li>Name it <code>player</code></li><li>Select the <code>browser</code> target</li><li>Select the <code>default</code> template</li></ul><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki monokai"><code><span class="line"><span style="color:#66D9EF;">cd</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">/path/to/working/directory</span></span>
<span class="line"><span style="color:#A6E22E;">npx</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">@soundworks/create@latest</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">plugin-platform-init</span></span></code></pre></div><p><img src="/assets/wizard-create-player-confirm.30e4d539.png" alt="wizard-create-player-confirm"></p><p>Once done, go to the directory and launch the <code>soundworks</code> wizard again to install the plugin:</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki monokai"><code><span class="line"><span style="color:#66D9EF;">cd</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">plugin-platform-init</span></span>
<span class="line"><span style="color:#A6E22E;">npx</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">soundworks</span></span></code></pre></div><p>Select the <code>install / uninstall soundworks plugins</code> entry:</p><p><img src="/assets/wizard-1.31b229d4.png" alt="wizard-1"></p><p>Select the <code>@soundworks/plugin-platform-init</code> using the space bar:</p><p><img src="/assets/wizard-2.bebc51d1.png" alt="wizard-2"></p><p>And confirm:</p><p><img src="/assets/wizard-3.883b2723.png" alt="wizard-3"></p><p>After the installation has completed, you can exit the wizard by pressing <code>Ctrl+C</code> or by selecting the <code>→ exit</code> entry.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Note that the wizard asks you if you want to install plugins when creating the application. We just followed the long path to show you how to use the wizard within the application.</p></div><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Note that this specific functionnality of the wizard is just a mere alias of <code>npm install</code>, it is equivalent to doing:</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki monokai"><code><span class="line"><span style="color:#A6E22E;">npm</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">install</span><span style="color:#F8F8F2;"> </span><span style="color:#AE81FF;">--save</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">@soundworks/plugin-platform-init</span></span></code></pre></div></div><p>If you open the <code>package.json</code> file, you should see the <code>@soundworks/plugin-platform-init</code> appearing under the <code>dependencies</code> key:</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki monokai has-highlighted-lines"><code><span class="line"><span style="color:#88846F;">// package.json</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#E6DB74;">&quot;dependencies&quot;</span><span style="color:#F8F8F2;">: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#66D9EF;font-style:italic;">&quot;@ircam/sc-components&quot;</span><span style="color:#F8F8F2;">: </span><span style="color:#CFCFC2;">&quot;^3.0.0-alpha.44&quot;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#66D9EF;font-style:italic;">&quot;@soundworks/core&quot;</span><span style="color:#F8F8F2;">: </span><span style="color:#CFCFC2;">&quot;^4.0.0-alpha.0&quot;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#66D9EF;font-style:italic;">&quot;@soundworks/helpers&quot;</span><span style="color:#F8F8F2;">: </span><span style="color:#CFCFC2;">&quot;^1.0.0-alpha.2&quot;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line highlighted"><span style="color:#F8F8F2;">    </span><span style="color:#66D9EF;font-style:italic;">&quot;@soundworks/plugin-platform-init&quot;</span><span style="color:#F8F8F2;">: </span><span style="color:#CFCFC2;">&quot;^1.0.0-alpha.5&quot;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#66D9EF;font-style:italic;">&quot;json5&quot;</span><span style="color:#F8F8F2;">: </span><span style="color:#CFCFC2;">&quot;^2.2.2&quot;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#66D9EF;font-style:italic;">&quot;lit&quot;</span><span style="color:#F8F8F2;">: </span><span style="color:#CFCFC2;">&quot;^3.0.2&quot;</span></span>
<span class="line"><span style="color:#F8F8F2;">  },</span></span></code></pre></div><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Note that the actual list of dependencies and version numbers might change compared the ones listed above, as new versions of the core library and of the plugins will be released in the future.</p></div><p>This file allows you and the <em>node package manager</em> (i.e. <code>npm</code>) to keep track of the dependencies of your project. Then, if you need to re-install the application dependencies (i.e. <code>npm install</code>) the plugin will be re-installed as well.</p><h2 id="registering-the-plugin-into-soundworks" tabindex="-1">Registering the plugin into <em>soundworks</em> <a class="header-anchor" href="#registering-the-plugin-into-soundworks" aria-label="Permalink to &quot;Registering the plugin into _soundworks_&quot;">​</a></h2><p>Now that the plugin is installed as a dependency of our application, let&#39;s write the code to register the plugin into <em>soundworks</em>.</p><p>By design, all <em>soundworks</em> plugins always come with both a server-side component and a client-side component. Hence, you will always have to register the plugin on both side of your application.</p><h3 id="server-side-registration" tabindex="-1">Server-side registration <a class="header-anchor" href="#server-side-registration" aria-label="Permalink to &quot;Server-side registration&quot;">​</a></h3><p>Let&#39;s start with the server-side part and write the following code in the <code>src/server/index.js</code> file. First let&#39;s import the server-side part of the plugin on top of the file:</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai has-highlighted-lines"><code><span class="line"><span style="color:#88846F;">// src/server/index.js</span></span>
<span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;@soundworks/helpers/polyfills.js&#39;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> { Server } </span><span style="color:#F92672;">from</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;@soundworks/core/server.js&#39;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line highlighted"><span style="color:#88846F;">// import the server-side part of the `platform-init` plugin</span></span>
<span class="line highlighted"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> pluginPlatformInit </span><span style="color:#F92672;">from</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;@soundworks/plugin-platform-init/server.js&#39;</span><span style="color:#F8F8F2;">;</span></span></code></pre></div><p>Then register it into the <code>server.pluginManager</code> component:</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai has-highlighted-lines"><code><span class="line"><span style="color:#88846F;">// src/server/index.js</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> server </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">new</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">Server</span><span style="color:#F8F8F2;">(config);</span></span>
<span class="line"><span style="color:#F8F8F2;">server.</span><span style="color:#A6E22E;">useDefaultApplicationTemplate</span><span style="color:#F8F8F2;">();</span></span>
<span class="line highlighted"><span style="color:#88846F;">// register the plugin into the soundworks&#39; plugin manager</span></span>
<span class="line highlighted"><span style="color:#F8F8F2;">server.pluginManager.</span><span style="color:#A6E22E;">register</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;platform-init&#39;</span><span style="color:#F8F8F2;">, pluginPlatformInit);</span></span></code></pre></div><p>The <a href="https://soundworks.dev/soundworks/server.PluginManager#register" target="_blank" rel="noreferrer"><code>pluginManager.register</code></a> method takes at least 2 arguments:</p><ul><li>A user defined <code>id</code> (here <code>platform-init</code>) that is used as an internal identifier to retrieve the plugin instance. In more advanced use-cases, it also allows you to register several times the same plugin under different ids .</li><li>A factory function (i.e. <code>pluginPlatformInit</code>) automatically executed by <em>soundworks</em>, from which the actual plugin instance will be created.</li></ul><div class="info custom-block"><p class="custom-block-title">INFO</p><p>A <strong><em>factory function</em></strong> is common design pattern that allows to create a full-featured object from a function call. If you are interested, you can check this <a href="https://www.javascripttutorial.net/javascript-factory-functions/" target="_blank" rel="noreferrer">tutorial </a> for more information on this subject.</p></div><p>And that&#39;s all for the server-side! Let&#39;s now install the plugin on the client-side.</p><h3 id="client-side-registration" tabindex="-1">Client-side registration <a class="header-anchor" href="#client-side-registration" aria-label="Permalink to &quot;Client-side registration&quot;">​</a></h3><p>Let&#39;s open the <code>src/clients/player/index.js</code> and, as for the server-side, import the client-side part of the <em>platform-init</em> plugin:</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai has-highlighted-lines"><code><span class="line"><span style="color:#88846F;">// src/clients/player/index.js</span></span>
<span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> { Client } </span><span style="color:#F92672;">from</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;@soundworks/core/client.js&#39;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> launcher </span><span style="color:#F92672;">from</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;@soundworks/helpers/launcher.js&#39;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line highlighted"><span style="color:#88846F;">// import the client-side part of the `platform-init` plugin</span></span>
<span class="line highlighted"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> pluginPlatformInit </span><span style="color:#F92672;">from</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;@soundworks/plugin-platform-init/client.js&#39;</span><span style="color:#F8F8F2;">;</span></span></code></pre></div><p>Now that our plugin is imported, we can register it into the <a href="https://soundworks.dev/soundworks/client.PluginManager" target="_blank" rel="noreferrer"><code>client.PluginManager</code></a>:</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai has-highlighted-lines"><code><span class="line"><span style="color:#88846F;">// src/clients/player/index.js</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> client </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">new</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">Client</span><span style="color:#F8F8F2;">(config);</span></span>
<span class="line highlighted"><span style="color:#88846F;">// register the plugin into the soundworks&#39; plugin manager</span></span>
<span class="line highlighted"><span style="color:#F8F8F2;">client.pluginManager.</span><span style="color:#A6E22E;">register</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;platform-init&#39;</span><span style="color:#F8F8F2;">, pluginPlatformInit);</span></span></code></pre></div><p>As for the server-side, we passed 2 arguments to the <a href="https://soundworks.dev/soundworks/client.PluginManager#register" target="_blank" rel="noreferrer"><code>client.PluginManager#register</code></a> method: the plugin user-defined <code>id</code> and the plugin factory function. An important point here is that the <code>id</code> we used is the same on both server-side and client-side. This allows <em>soundworks</em> to automatically match and associate the two components.</p><p>At this point, if you start the server (i.e. <code>npm run dev</code>) and go to <a href="http://127.0.0.1:8000" target="_blank" rel="noreferrer">http://127.0.0.1:8000</a>, you should see the default splashscreen provided by the plugin. This screen requires a user gesture (i.e. a &quot;click&quot; event) and is automatically shown by the <code>launcher</code> because the <em>platform-init</em> plugin has been registered into <em>soundworks</em>:</p><p><img src="/assets/homepage.59c52cb9.png" alt="homepage"></p><h2 id="resuming-an-audiocontext" tabindex="-1">Resuming an <code>AudioContext</code> <a class="header-anchor" href="#resuming-an-audiocontext" aria-label="Permalink to &quot;Resuming an `AudioContext`&quot;">​</a></h2><p>So far, so good but what we did until now is mainly to add a slashscreen asking for a click, that does nothing particular... Or, as stated in the beginning of the tutorial, the whole aim of the <code>platform-init</code> plugin is to simplify the initialization of features that require a user-gesture in order to be properly launched. Let&#39;s examplify that by resuming an <code>AudioContext</code> So let&#39;s do that.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>An user gesture is required by the browsers to access or initialize certain features such as the Web Audio API, the microphone or the camera. This is a way to protect end-users against intrusive ads and/or for obvious privacy reasons.</p></div><p>So first, let&#39;s first create an new <code>audioContext</code>:</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai has-highlighted-lines"><code><span class="line"><span style="color:#88846F;">// src/clients/player/index.js</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> config </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> window.SOUNDWORKS_CONFIG;</span></span>
<span class="line highlighted"><span style="color:#88846F;">// create a global audio context</span></span>
<span class="line highlighted"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> audioContext </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">new</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">AudioContext</span><span style="color:#F8F8F2;">();</span></span></code></pre></div><p>And pass it as third argument to the <code>pluginManager.register</code> method:</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai has-highlighted-lines has-diff"><code><span class="line"><span style="color:#88846F;">// src/clients/player/index.js</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> client </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">new</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">Client</span><span style="color:#F8F8F2;">(config);</span></span>
<span class="line"><span style="color:#88846F;">// register the plugin into the soundworks&#39; plugin manager, and pass it the audioContext</span></span>
<span class="line diff remove highlighted"><span style="color:#F8F8F2;">client.pluginManager.</span><span style="color:#A6E22E;">register</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;platform-init&#39;</span><span style="color:#F8F8F2;">, pluginPlatformInit);  </span></span>
<span class="line diff add highlighted"><span style="color:#F8F8F2;">client.pluginManager.</span><span style="color:#A6E22E;">register</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;platform-init&#39;</span><span style="color:#F8F8F2;">, pluginPlatformInit, { audioContext });  </span></span></code></pre></div><div class="info custom-block"><p class="custom-block-title">INFO</p><p>By default, the <em>platform-init</em> plugin provides simplified access to several features, such as motion sensors, microphone and camera. Refer to the <a href="https://github.com/collective-soundworks/soundworks-plugin-platform-init" target="_blank" rel="noreferrer">plugin documentation</a> for more information.</p></div><p>Finally, let&#39;s create some welcoming sound that will show us that everything works well and that our <code>audioContext</code> is properly resumed:</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai has-highlighted-lines"><code><span class="line"><span style="color:#88846F;">// src/clients/player/index.js</span></span>
<span class="line"><span style="color:#F8F8F2;">launcher.</span><span style="color:#A6E22E;">register</span><span style="color:#F8F8F2;">(client, { initScreensContainer: $container });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">// launch application</span></span>
<span class="line highlighted"><span style="color:#F8F8F2;">console.</span><span style="color:#A6E22E;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">`&gt; before start - audioContext is &quot;</span><span style="color:#F92672;">${</span><span style="color:#F8F8F2;">audioContext.state</span><span style="color:#F92672;">}</span><span style="color:#E6DB74;">&quot;`</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"><span style="color:#F92672;">await</span><span style="color:#F8F8F2;"> client.</span><span style="color:#A6E22E;">start</span><span style="color:#F8F8F2;">();</span></span>
<span class="line highlighted"><span style="color:#F8F8F2;">console.</span><span style="color:#A6E22E;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">`&gt; after start - audioContext is &quot;</span><span style="color:#F92672;">${</span><span style="color:#F8F8F2;">audioContext.state</span><span style="color:#F92672;">}</span><span style="color:#E6DB74;">&quot;`</span><span style="color:#F8F8F2;">);</span></span>
<span class="line highlighted"><wbr></span>
<span class="line highlighted"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> now </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> audioContext.currentTime;</span></span>
<span class="line highlighted"><span style="color:#88846F;">// create a simple envelop</span></span>
<span class="line highlighted"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> env </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> audioContext.</span><span style="color:#A6E22E;">createGain</span><span style="color:#F8F8F2;">();</span></span>
<span class="line highlighted"><span style="color:#F8F8F2;">env.</span><span style="color:#A6E22E;">connect</span><span style="color:#F8F8F2;">(audioContext.destination);</span></span>
<span class="line highlighted"><span style="color:#F8F8F2;">env.gain.</span><span style="color:#A6E22E;">setValueAtTime</span><span style="color:#F8F8F2;">(</span><span style="color:#AE81FF;">0</span><span style="color:#F8F8F2;">, now);</span></span>
<span class="line highlighted"><span style="color:#F8F8F2;">env.gain.</span><span style="color:#A6E22E;">linearRampToValueAtTime</span><span style="color:#F8F8F2;">(</span><span style="color:#AE81FF;">0.5</span><span style="color:#F8F8F2;">, now </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> </span><span style="color:#AE81FF;">0.01</span><span style="color:#F8F8F2;">);</span></span>
<span class="line highlighted"><span style="color:#F8F8F2;">env.gain.</span><span style="color:#A6E22E;">exponentialRampToValueAtTime</span><span style="color:#F8F8F2;">(</span><span style="color:#AE81FF;">0.0001</span><span style="color:#F8F8F2;">, now </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> </span><span style="color:#AE81FF;">4</span><span style="color:#F8F8F2;">);</span></span>
<span class="line highlighted"><wbr></span>
<span class="line highlighted"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> src </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> audioContext.</span><span style="color:#A6E22E;">createOscillator</span><span style="color:#F8F8F2;">();</span></span>
<span class="line highlighted"><span style="color:#F8F8F2;">src.</span><span style="color:#A6E22E;">connect</span><span style="color:#F8F8F2;">(env);</span></span>
<span class="line highlighted"><span style="color:#88846F;">// randomly pick a frequency on an harmonic  spectrum (150, 300, 450, etc...)</span></span>
<span class="line highlighted"><span style="color:#F8F8F2;">src.frequency.value </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#AE81FF;">150</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> Math.</span><span style="color:#A6E22E;">floor</span><span style="color:#F8F8F2;">(Math.</span><span style="color:#A6E22E;">random</span><span style="color:#F8F8F2;">() </span><span style="color:#F92672;">*</span><span style="color:#F8F8F2;"> </span><span style="color:#AE81FF;">10</span><span style="color:#F8F8F2;">) </span><span style="color:#F92672;">*</span><span style="color:#F8F8F2;"> </span><span style="color:#AE81FF;">150</span><span style="color:#F8F8F2;">;</span></span>
<span class="line highlighted"><span style="color:#F8F8F2;">src.</span><span style="color:#A6E22E;">start</span><span style="color:#F8F8F2;">(now);</span></span>
<span class="line highlighted"><span style="color:#F8F8F2;">src.</span><span style="color:#A6E22E;">stop</span><span style="color:#F8F8F2;">(now </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> </span><span style="color:#AE81FF;">4</span><span style="color:#F8F8F2;">);</span></span></code></pre></div><p>Reload the page (<code>Cmd+R</code>) and click, you should now ear an incredibly nice sound coming from your speakers!</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Note that if you emulate multiple clients in the same window (i.e. <a href="http://127.0.0.1:8000/?emulate=4" target="_blank" rel="noreferrer">http://127.0.0.1:8000/?emulate=4</a>), you should see how the soundworks launcher also helps you to start all the clients at once without requiring you to click on each of them:</p><p><img src="/assets/homepage-multiple.dfd6ed6a.png" alt="homepage-multiple"></p></div><h2 id="notes-on-the-soundworks-helpers-default-views" tabindex="-1">Notes on the <code>@soundworks/helpers</code> default views <a class="header-anchor" href="#notes-on-the-soundworks-helpers-default-views" aria-label="Permalink to &quot;Notes on the `@soundworks/helpers` default views&quot;">​</a></h2><p>The spashscreen, as well as other default inititialization views that we have not seen yet, are automatically created and handled the <code>launcher</code> object included in the default application template:</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai"><code><span class="line"><span style="color:#88846F;">// src/clients/player.index.js</span></span>
<span class="line"><span style="color:#F8F8F2;">launcher.</span><span style="color:#A6E22E;">register</span><span style="color:#F8F8F2;">(client, { initScreensContainer: $container });</span></span></code></pre></div><p>The launcher offer numerous way to adapt these views to your specific needs: e.g. to change the default styles, to adapt the language, or even to use completely different user defined views.</p><p>While won&#39;t cover these advanced use-case here, as they will be the subject of a dedicated tutorial, let&#39;s just see here the minimal changes we can make to customize the init view.</p><p>Let&#39;s then open the <code>config/application.json</code> file which should look like this:</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai"><code><span class="line"><span style="color:#88846F;">// config/application.json</span></span>
<span class="line"><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#F8F8F2;">  name: </span><span style="color:#E6DB74;">&#39;plugin-platform-init&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  author: </span><span style="color:#E6DB74;">&#39;&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  clients: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    player: {</span></span>
<span class="line"><span style="color:#F8F8F2;">      target: </span><span style="color:#E6DB74;">&#39;browser&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#F92672;">default</span><span style="color:#F8F8F2;">: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    },</span></span>
<span class="line"><span style="color:#F8F8F2;">  },</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre></div><p>This file has been generated for you by the <em>soundworks</em> wizard, and the <code>clients</code> entry is automatically updated each time you create a new client using the wizard.</p><p>However, the first 2 lines can be safely updated and are used by the <code>launcher</code> to create the splashscreen. Let&#39;s just change the <code>name</code> and <code>author</code> entries to see it in action:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki monokai has-diff"><code><span class="line diff remove"><span style="color:#F8F8F2;">name: &#39;plugin-platform-init&#39;, </span></span>
<span class="line diff add"><span style="color:#F8F8F2;">name: &#39;Hello Plugins&#39;, </span></span>
<span class="line diff remove"><span style="color:#F8F8F2;">author: &#39;&#39;, </span></span>
<span class="line diff add"><span style="color:#F8F8F2;">author: &#39;me &amp; myself&#39;, </span></span></code></pre></div><p>And tada! If you now go to <a href="http://127.0.0.1:8000" target="_blank" rel="noreferrer">http://127.0.0.1:8000</a> you should now see something like:</p><p><img src="/assets/homepage-custom.6f5d06bf.png" alt="homepage-custom"></p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>By default, the init views try to adapt to the locale of the browser and falls back to english if the localized texts do not exist. However, as we only provide english and french versions of the texts at time of writing the tutorial, it&#39;s likely that you have seen the english version.</p><p>If you are confortable with another language and are willing to contribute a localized version of <a href="https://github.com/collective-soundworks/soundworks-helpers/blob/main/browser-client/i18n/en.js" target="_blank" rel="noreferrer">this file</a>, please open an issue or a pull request in the <a href="https://github.com/collective-soundworks/soundworks-helpers/" target="_blank" rel="noreferrer"><code>@soundworks/helpers</code></a> repository!</p></div><h2 id="conclusion" tabindex="-1">Conclusion <a class="header-anchor" href="#conclusion" aria-label="Permalink to &quot;Conclusion&quot;">​</a></h2><p>In this tutorial, you have learned the basics of <em>soundworks</em> plugins usage, and more precisely how to use the <em>platform-init</em> plugin. While this plugin is not <em>per se</em> very complex, it can save you a lot of (quite boring) development time by simplifying the initialization of certains browser features. Along the way, you also discovered some of the functionalities provided by the <code>launcher</code> component that is automatically included in all <em>soundworks</em> applications created using the wizard.</p><p>In the next tutorial, we will wrap up what we have learned so far by creating a small working application where several clients can be used as distributed speakers by a central controller.</p></div></div></main><footer class="VPDocFooter" data-v-a3c25e27 data-v-a2d931e4><!--[--><!--]--><!----><nav class="prev-next" data-v-a2d931e4><div class="pager" data-v-a2d931e4><a class="pager-link prev" href="/tutorials/state-manager.html" data-v-a2d931e4><span class="desc" data-v-a2d931e4>Previous page</span><span class="title" data-v-a2d931e4>Using the State Manager</span></a></div><div class="pager" data-v-a2d931e4><a class="pager-link next" href="/tutorials/todo-noise.html" data-v-a2d931e4><span class="desc" data-v-a2d931e4>Next page</span><span class="title" data-v-a2d931e4>The <i>Todo Noise</i> Application</span></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"api.md\":\"b2e5592a\",\"introduction.md\":\"9e712117\",\"misc_local-deployment.md\":\"94969ed8\",\"plugins_license.md\":\"8d79824c\",\"plugins_filesystem.md\":\"2c015cb2\",\"misc_index.md\":\"8810b574\",\"ecosystem_ecosystem.md\":\"454356e9\",\"misc_setting-up-environment.md\":\"f1de9db6\",\"plugins_logger.md\":\"06439713\",\"misc_future-works.md\":\"eef7bd97\",\"tutorials_todo-noise.md\":\"d382a13c\",\"credits.md\":\"bc93c26a\",\"misc_online-deployment.md\":\"72ceb108\",\"tutorials_plugin-sync.md\":\"9d4475e8\",\"misc__todo_electron-applications.md\":\"9360eeec\",\"plugins_sync.md\":\"a42cbef0\",\"tutorials_connected-lamp.md\":\"4e991885\",\"misc_contributing-to-this-site.md\":\"72282ec9\",\"plugins_platform-init.md\":\"598c238b\",\"plugins_position.md\":\"13d16364\",\"tutorials_index.md\":\"ef932377\",\"tutorials_context.md\":\"af7133e6\",\"plugins_scripting.md\":\"0e781cdc\",\"index.md\":\"039ad7d2\",\"tutorials_getting-started.md\":\"a05544d6\",\"tutorials_state-manager.md\":\"adebe4e9\",\"tutorials_plugin-platform-init.md\":\"295295ef\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"soundworks\",\"description\":\"Creative coding framework for distributed applications based on Web technologies\",\"base\":\"/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"logo\":\"/logo-nav.png\",\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/collective-soundworks/\"}],\"nav\":[{\"text\":\"Guide\",\"link\":\"/tutorials/getting-started\"},{\"text\":\"soundworks API\",\"link\":\"https://soundworks.dev/soundworks\"},{\"text\":\"Credits\",\"link\":\"/credits\"}],\"sidebar\":[{\"text\":\"Introduction\",\"link\":\"/introduction\"},{\"text\":\"Tutorials\",\"items\":[{\"text\":\"Getting Started\",\"link\":\"/tutorials/getting-started\"},{\"text\":\"Using the State Manager\",\"link\":\"/tutorials/state-manager\"},{\"text\":\"Using Plugins 1 - <i>platform-init</i>\",\"link\":\"/tutorials/plugin-platform-init\"},{\"text\":\"The <i>Todo Noise</i> Application\",\"link\":\"/tutorials/todo-noise\"},{\"text\":\"Using Plugins 2 - <i>sync</i>\",\"link\":\"/tutorials/plugin-sync\"}]},{\"text\":\"Documentation\",\"items\":[{\"text\":\"soundworks API\",\"link\":\"https://soundworks.dev/soundworks\"},{\"text\":\"Plugin Filesystem\",\"link\":\"/plugins/filesystem\"},{\"text\":\"Plugin Logger\",\"link\":\"/plugins/logger\"},{\"text\":\"Plugin Platform Init\",\"link\":\"/plugins/platform-init\"},{\"text\":\"Plugin Position\",\"link\":\"/plugins/position\"},{\"text\":\"Plugin Scripting\",\"link\":\"/plugins/scripting\"},{\"text\":\"Plugin Sync\",\"link\":\"/plugins/sync\"}]},{\"text\":\"Receipes\",\"items\":[]},{\"text\":\"Ecosystem\",\"items\":[{\"text\":\"@ircam/sc-components\",\"link\":\"https://ircam-ismm.github.io/sc-components\"}]},{\"text\":\"Misc\",\"items\":[{\"text\":\"Setting up an Environment\",\"link\":\"/misc/setting-up-environment\"}]}]},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}");</script>
    
  </body>
</html>