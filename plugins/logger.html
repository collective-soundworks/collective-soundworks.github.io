<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>soundworks | plugin logger | soundworks</title>
    <meta name="description" content="Creative coding framework for distributed applications based on Web technologies">
    <meta name="generator" content="VitePress v2.0.0-alpha.16">
    <link rel="preload stylesheet" href="/assets/style.DklbAnHd.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.Crhjg3H6.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.DKERbyZW.js">
    <link rel="modulepreload" href="/assets/chunks/framework.CRk2WtWN.js">
    <link rel="modulepreload" href="/assets/plugins_logger.md.WkoUpJQD.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-304c8b69><!--[--><!--]--><!--[--><span tabindex="-1" data-v-10d4d845></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-10d4d845>Skip to content</a><!--]--><!----><header class="VPNav" data-v-304c8b69 data-v-d5bf7c8e><div class="VPNavBar has-sidebar top" data-v-d5bf7c8e data-v-cc1d9f2e><div class="wrapper" data-v-cc1d9f2e><div class="container" data-v-cc1d9f2e><div class="title" data-v-cc1d9f2e><div class="VPNavBarTitle has-sidebar" data-v-cc1d9f2e data-v-d4488dd0><a class="title" href="/" data-v-d4488dd0><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo-nav.png" alt data-v-ab19afbb><!--]--><span data-v-d4488dd0>soundworks</span><!--[--><!--]--></a></div></div><div class="content" data-v-cc1d9f2e><div class="content-body" data-v-cc1d9f2e><!--[--><!--]--><div class="VPNavBarSearch search" data-v-cc1d9f2e data-v-bdd98725><!--[--><button type="button" class="VPNavBarSearchButton" aria-label="Search" aria-keyshortcuts="/ control+k meta+k" data-v-bdd98725 data-v-69351052><span class="vpi-search" aria-hidden="true" data-v-69351052></span><span class="text" data-v-69351052>Search</span><span class="keys" aria-hidden="true" data-v-69351052><kbd class="key-cmd" data-v-69351052>⌘</kbd><kbd class="key-ctrl" data-v-69351052>Ctrl</kbd><kbd data-v-69351052>K</kbd></span></button><!----><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-cc1d9f2e data-v-020be4db><span id="main-nav-aria-label" class="visually-hidden" data-v-020be4db> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/tutorials/getting-started.html" tabindex="0" data-v-020be4db data-v-81dba28a><!--[--><span data-v-81dba28a>Guide</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://soundworks.dev/soundworks" target="_blank" rel="noreferrer" tabindex="0" data-v-020be4db data-v-81dba28a><!--[--><span data-v-81dba28a>soundworks API</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/credits.html" tabindex="0" data-v-020be4db data-v-81dba28a><!--[--><span data-v-81dba28a>Credits</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-cc1d9f2e data-v-3f90c1a5><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-3f90c1a5 data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-cc1d9f2e data-v-ef6192dc data-v-a1a7286e><!--[--><a class="VPSocialLink no-icon" href="https://github.com/collective-soundworks/collective-soundworks.github.io" aria-label="github" target="_blank" rel="me noopener" data-v-a1a7286e data-v-32d78712><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-cc1d9f2e data-v-600b50c9 data-v-d8fae6e2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-d8fae6e2><span class="vpi-more-horizontal icon" data-v-d8fae6e2></span></button><div class="menu" data-v-d8fae6e2><div class="VPMenu" data-v-d8fae6e2 data-v-fcd1d7a8><!----><!--[--><!--[--><!----><div class="group" data-v-600b50c9><div class="item appearance" data-v-600b50c9><p class="label" data-v-600b50c9>Appearance</p><div class="appearance-action" data-v-600b50c9><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-600b50c9 data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div></div></div><div class="group" data-v-600b50c9><div class="item social-links" data-v-600b50c9><div class="VPSocialLinks social-links-list" data-v-600b50c9 data-v-a1a7286e><!--[--><a class="VPSocialLink no-icon" href="https://github.com/collective-soundworks/collective-soundworks.github.io" aria-label="github" target="_blank" rel="me noopener" data-v-a1a7286e data-v-32d78712><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-cc1d9f2e data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><div class="divider" data-v-cc1d9f2e><div class="divider-line" data-v-cc1d9f2e></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-304c8b69 data-v-73add737><div class="container" data-v-73add737><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-73add737><span class="vpi-align-left menu-icon" data-v-73add737></span><span class="menu-text" data-v-73add737>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-73add737 data-v-e28a51a6><button data-v-e28a51a6>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-304c8b69 data-v-49f51a23><div class="curtain" data-v-49f51a23></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-49f51a23><span class="visually-hidden" id="sidebar-aria-label" data-v-49f51a23> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-a84b7c21><section class="VPSidebarItem level-0" data-v-a84b7c21 data-v-6b36a2fd><!----><div class="items" data-v-6b36a2fd><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/introduction.html" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Introduction</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-a84b7c21><section class="VPSidebarItem level-0" data-v-a84b7c21 data-v-6b36a2fd><div class="item" role="button" tabindex="0" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><h2 class="text" data-v-6b36a2fd>Tutorials</h2><!----></div><div class="items" data-v-6b36a2fd><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/tutorials/getting-started.html" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Getting Started</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/tutorials/state-manager.html" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Using the State Manager</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/tutorials/plugin-platform-init.html" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Using Plugins 1 - <i>platform-init</i></p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/tutorials/todo-noise.html" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>The <i>Todo Noise</i> Application</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/tutorials/node-clients.html" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Working with Node Clients</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/tutorials/plugin-sync.html" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Using Plugins 2 - <i>sync</i></p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/tutorials/step-sequencer.html" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Distributed Step Sequencer</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-a84b7c21><section class="VPSidebarItem level-0" data-v-a84b7c21 data-v-6b36a2fd><div class="item" role="button" tabindex="0" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><h2 class="text" data-v-6b36a2fd>Recipes</h2><!----></div><div class="items" data-v-6b36a2fd><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/recipes/working-with-max.html" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Working with Max</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-a84b7c21><section class="VPSidebarItem level-0 has-active" data-v-a84b7c21 data-v-6b36a2fd><div class="item" role="button" tabindex="0" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><h2 class="text" data-v-6b36a2fd>Documentation</h2><!----></div><div class="items" data-v-6b36a2fd><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link vp-external-link-icon link" href="https://soundworks.dev/soundworks" target="_blank" rel="noreferrer" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>soundworks API</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/tools/helpers.html" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Helpers</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/plugins/platform-init.html" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Plugin Platform Init</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/plugins/sync.html" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Plugin Sync</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/plugins/filesystem.html" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Plugin Filesystem</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/plugins/scripting.html" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Plugin Scripting</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/plugins/checkin.html" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Plugin Checkin</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/plugins/position.html" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Plugin Position</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/plugins/logger.html" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Plugin Logger</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-a84b7c21><section class="VPSidebarItem level-0" data-v-a84b7c21 data-v-6b36a2fd><div class="item" role="button" tabindex="0" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><h2 class="text" data-v-6b36a2fd>Ecosystem</h2><!----></div><div class="items" data-v-6b36a2fd><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link vp-external-link-icon link" href="https://github.com/ircam-ismm/node-web-audio-api/" target="_blank" rel="noreferrer" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>node-web-audio-api</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link vp-external-link-icon link" href="https://github.com/ircam-ismm/sc-components/" target="_blank" rel="noreferrer" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>@ircam/sc-components</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link vp-external-link-icon link" href="https://github.com/ircam-ismm/sc-utils" target="_blank" rel="noreferrer" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>@ircam/sc-utils</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link vp-external-link-icon link" href="https://github.com/ircam-ismm/sc-scheduling/" target="_blank" rel="noreferrer" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>@ircam/sc-scheduling</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link vp-external-link-icon link" href="https://github.com/ircam-ismm/devicemotion" target="_blank" rel="noreferrer" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>@ircam/devicemotion</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link vp-external-link-icon link" href="https://ircam-ismm.github.io/dotpi/" target="_blank" rel="noreferrer" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>dotpi tools</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-a84b7c21><section class="VPSidebarItem level-0" data-v-a84b7c21 data-v-6b36a2fd><div class="item" role="button" tabindex="0" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><h2 class="text" data-v-6b36a2fd>Misc</h2><!----></div><div class="items" data-v-6b36a2fd><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/misc/websockets-101.html" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>WebSockets 101</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-304c8b69 data-v-bd4f21ea><div class="VPDoc has-sidebar has-aside" data-v-bd4f21ea data-v-d668f7cc><!--[--><!--]--><div class="container" data-v-d668f7cc><div class="aside" data-v-d668f7cc><div class="aside-curtain" data-v-d668f7cc></div><div class="aside-container" data-v-d668f7cc><div class="aside-content" data-v-d668f7cc><div class="VPDocAside" data-v-d668f7cc data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-cb998dce data-v-c8b19031><div class="content" data-v-c8b19031><div class="outline-marker" data-v-c8b19031></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-c8b19031>On this page</div><ul class="VPDocOutlineItem root" data-v-c8b19031 data-v-63c57e50><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-d668f7cc><div class="content-container" data-v-d668f7cc><!--[--><!--]--><main class="main" data-v-d668f7cc><div style="position:relative;" class="vp-doc _plugins_logger" data-v-d668f7cc><div><h1 id="soundworks-plugin-logger" tabindex="-1">soundworks | plugin logger <a class="header-anchor" href="#soundworks-plugin-logger" aria-label="Permalink to “soundworks | plugin logger”">​</a></h1><p><a href="https://badge.fury.io/js/@soundworks%2Fplugin-logger" target="_blank" rel="noreferrer"><img src="https://badge.fury.io/js/@soundworks%2Fplugin-logger.svg" alt="npm version"></a></p><p><a href="https://github.com/collective-soundworks/soundworks" target="_blank" rel="noreferrer"><code>soundworks</code></a> plugin for recording arbitrary data from any node of the network into plain old files.</p><h2 id="table-of-contents" tabindex="-1">Table of Contents <a class="header-anchor" href="#table-of-contents" aria-label="Permalink to “Table of Contents”">​</a></h2><ul><li><a href="#installation">Installation</a></li><li><a href="#usage">Usage</a></li><li><a href="#notes-recipes">Notes &amp; Recipes</a></li><li><a href="#api">API</a></li><li><a href="#clientpluginlogger">ClientPluginLogger</a></li><li><a href="#clientwriter">ClientWriter</a></li><li><a href="#serverpluginlogger">ServerPluginLogger</a></li><li><a href="#serverwriter">ServerWriter</a></li><li><a href="#credits">Credits</a></li><li><a href="#license">License</a></li></ul><h2 id="installation" tabindex="-1">Installation <a class="header-anchor" href="#installation" aria-label="Permalink to “Installation”">​</a></h2><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki monokai" style="background-color:#272822;color:#F8F8F2;" tabindex="0" dir="ltr"><code><span class="line"><span style="color:#A6E22E;">npm</span><span style="color:#E6DB74;"> install</span><span style="color:#E6DB74;"> @soundworks/plugin-logger</span><span style="color:#AE81FF;"> --save</span></span></code></pre></div><h2 id="usage" tabindex="-1">Usage <a class="header-anchor" href="#usage" aria-label="Permalink to “Usage”">​</a></h2><h3 id="server" tabindex="-1">Server <a class="header-anchor" href="#server" aria-label="Permalink to “Server”">​</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai" style="background-color:#272822;color:#F8F8F2;" tabindex="0" dir="ltr"><code><span class="line"><span style="color:#88846F;">// index.js</span></span>
<span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> { Server } </span><span style="color:#F92672;">from</span><span style="color:#E6DB74;"> &#39;@soundworks/core/server.js&#39;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> ServerPluginLogger </span><span style="color:#F92672;">from</span><span style="color:#E6DB74;"> &#39;@soundworks/plugin-logger/server.js&#39;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> server </span><span style="color:#F92672;">=</span><span style="color:#F92672;"> new</span><span style="color:#A6E22E;"> Server</span><span style="color:#F8F8F2;">(config);</span></span>
<span class="line"><span style="color:#F8F8F2;">server.pluginManager.</span><span style="color:#A6E22E;">register</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;logger&#39;</span><span style="color:#F8F8F2;">, ServerPluginLogger, {</span></span>
<span class="line"><span style="color:#88846F;">  // define directory in which the files will be written,</span></span>
<span class="line"><span style="color:#88846F;">  // defaults to `null`, i.e. kind of &quot;idle&quot; plugin state</span></span>
<span class="line"><span style="color:#F8F8F2;">  dirname: </span><span style="color:#E6DB74;">&#39;logs&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672;">await</span><span style="color:#F8F8F2;"> server.</span><span style="color:#A6E22E;">start</span><span style="color:#F8F8F2;">();</span></span>
<span class="line"><span style="color:#88846F;">// create a logger</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> logger </span><span style="color:#F92672;">=</span><span style="color:#F92672;"> await</span><span style="color:#F8F8F2;"> server.pluginManager.</span><span style="color:#A6E22E;">get</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;logger&#39;</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> writer </span><span style="color:#F92672;">=</span><span style="color:#F92672;"> await</span><span style="color:#F8F8F2;"> logger.</span><span style="color:#A6E22E;">createWriter</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;my-server-log&#39;</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"><span style="color:#F8F8F2;">writer.</span><span style="color:#A6E22E;">write</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;hello server&#39;</span><span style="color:#F8F8F2;">);</span></span></code></pre></div><h3 id="client" tabindex="-1">Client <a class="header-anchor" href="#client" aria-label="Permalink to “Client”">​</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai" style="background-color:#272822;color:#F8F8F2;" tabindex="0" dir="ltr"><code><span class="line"><span style="color:#88846F;">// index.js</span></span>
<span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> { Client } </span><span style="color:#F92672;">from</span><span style="color:#E6DB74;"> &#39;@soundworks/core/client.js&#39;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> ClientPluginLogger </span><span style="color:#F92672;">from</span><span style="color:#E6DB74;"> &#39;@soundworks/plugin-logger/client.js&#39;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> client </span><span style="color:#F92672;">=</span><span style="color:#F92672;"> new</span><span style="color:#A6E22E;"> Client</span><span style="color:#F8F8F2;">(config);</span></span>
<span class="line"><span style="color:#F8F8F2;">client.pluginManager.</span><span style="color:#A6E22E;">register</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;logger&#39;</span><span style="color:#F8F8F2;">, ClientPluginLogger);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672;">await</span><span style="color:#F8F8F2;"> client.</span><span style="color:#A6E22E;">start</span><span style="color:#F8F8F2;">();</span></span>
<span class="line"><span style="color:#88846F;">// create a logger</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> logger </span><span style="color:#F92672;">=</span><span style="color:#F92672;"> await</span><span style="color:#F8F8F2;"> client.pluginManager.</span><span style="color:#A6E22E;">get</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;logger&#39;</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> writer </span><span style="color:#F92672;">=</span><span style="color:#F92672;"> await</span><span style="color:#F8F8F2;"> logger.</span><span style="color:#A6E22E;">createWriter</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;my-client-log&#39;</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"><span style="color:#F8F8F2;">writer.</span><span style="color:#A6E22E;">write</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;hello client&#39;</span><span style="color:#F8F8F2;">);</span></span></code></pre></div><h2 id="notes-recipes" tabindex="-1">Notes &amp; Recipes <a class="header-anchor" href="#notes-recipes" aria-label="Permalink to “Notes &amp; Recipes”">​</a></h2><p><em>In the following examples, we assume the server-side logger as been configured to use the <code>logs</code> directory.</em></p><h3 id="default-extension" tabindex="-1">Default extension <a class="header-anchor" href="#default-extension" aria-label="Permalink to “Default extension”">​</a></h3><p>If a writer is created with no extension in its name, the <code>.txt</code> extension is added by default, otherwise the given extension is kept intact:</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai" style="background-color:#272822;color:#F8F8F2;" tabindex="0" dir="ltr"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> writer </span><span style="color:#F92672;">=</span><span style="color:#F92672;"> await</span><span style="color:#F8F8F2;"> logger.</span><span style="color:#A6E22E;">createWriter</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;first-log.txt&#39;</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#A6E22E;">log</span><span style="color:#F8F8F2;">(writer.pathname);</span></span>
<span class="line"><span style="color:#F92672;">&gt;</span><span style="color:#E6DB74;"> &#39;logs/2023.07.3_16.39.43_0001_first-log.txt&#39;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> writer </span><span style="color:#F92672;">=</span><span style="color:#F92672;"> await</span><span style="color:#F8F8F2;"> logger.</span><span style="color:#A6E22E;">createWriter</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;second-log.md&#39;</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#A6E22E;">log</span><span style="color:#F8F8F2;">(writer.pathname);</span></span>
<span class="line"><span style="color:#F92672;">&gt;</span><span style="color:#E6DB74;"> &#39;logs/2023.07.3_16.39.43_0002_second-log.txt&#39;</span><span style="color:#F8F8F2;">;</span></span></code></pre></div><h3 id="prefix-in-log-files" tabindex="-1">Prefix in log files <a class="header-anchor" href="#prefix-in-log-files" aria-label="Permalink to “Prefix in log files”">​</a></h3><p>By default all log files (client-side and server-side) are prefixed following a format: <code>yyyy.mm.dd_hh.mm.ss_id_${basename}</code>. This behavior can be turned of by setting the <code>usePrefix</code> option to false when creating a writer.</p><p>With <code>usePrefix = true</code> (default):</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai" style="background-color:#272822;color:#F8F8F2;" tabindex="0" dir="ltr"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> writer </span><span style="color:#F92672;">=</span><span style="color:#F92672;"> await</span><span style="color:#F8F8F2;"> logger.</span><span style="color:#A6E22E;">createWriter</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;my-log.txt&#39;</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#A6E22E;">log</span><span style="color:#F8F8F2;">(writer.pathname);</span></span>
<span class="line"><span style="color:#F92672;">&gt;</span><span style="color:#E6DB74;"> &#39;logs/2023.07.3_16.39.43_0001_my-log.txt&#39;</span><span style="color:#F8F8F2;">;</span></span></code></pre></div><p>With <code>usePrefix = false</code>:</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai" style="background-color:#272822;color:#F8F8F2;" tabindex="0" dir="ltr"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> writer </span><span style="color:#F92672;">=</span><span style="color:#F92672;"> await</span><span style="color:#F8F8F2;"> logger.</span><span style="color:#A6E22E;">createWriter</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;my-log.txt&#39;</span><span style="color:#F8F8F2;">, { usePrefix: </span><span style="color:#AE81FF;">false</span><span style="color:#F8F8F2;"> });</span></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#A6E22E;">log</span><span style="color:#F8F8F2;">(writer.pathname);</span></span>
<span class="line"><span style="color:#F92672;">&gt;</span><span style="color:#E6DB74;"> &#39;logs/my-log.txt&#39;</span><span style="color:#F8F8F2;">;</span></span></code></pre></div><p>While useful in some situations, this option can lead to errors if two writers are created with the same name.</p><h3 id="creating-log-files-in-sub-directories" tabindex="-1">Creating log files in sub-directories <a class="header-anchor" href="#creating-log-files-in-sub-directories" aria-label="Permalink to “Creating log files in sub-directories”">​</a></h3><p>If a path is given in the name, e.g. <code>my-dir/my-log</code>, sub-directories will be automatically created:</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai" style="background-color:#272822;color:#F8F8F2;" tabindex="0" dir="ltr"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> writer </span><span style="color:#F92672;">=</span><span style="color:#F92672;"> await</span><span style="color:#F8F8F2;"> logger.</span><span style="color:#A6E22E;">createWriter</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">`my-dir/my-log`</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#A6E22E;">log</span><span style="color:#F8F8F2;">(writer.pathname);</span></span>
<span class="line"><span style="color:#F92672;">&gt;</span><span style="color:#E6DB74;"> &#39;logs/my-dir/my-log.txt&#39;</span><span style="color:#F8F8F2;">;</span></span></code></pre></div><h3 id="share-a-writer-between-several-clients" tabindex="-1">Share a writer between several clients <a class="header-anchor" href="#share-a-writer-between-several-clients" aria-label="Permalink to “Share a writer between several clients”">​</a></h3><p>In a similar way as the shared state (while most simple), clients can attach to a writer created by the server. This can be used for example to create global logs information where all clients contribute. Create a writer server as usual:</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai" style="background-color:#272822;color:#F8F8F2;" tabindex="0" dir="ltr"><code><span class="line"><span style="color:#88846F;">// server-side</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> sharedWrite </span><span style="color:#F92672;">=</span><span style="color:#F92672;"> await</span><span style="color:#F8F8F2;"> logger.</span><span style="color:#A6E22E;">createWriter</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;shared-writer&#39;</span><span style="color:#F8F8F2;">);</span></span></code></pre></div><p>Attach to the writer on the client-size, note the <code>attachWriter</code> method:</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai" style="background-color:#272822;color:#F8F8F2;" tabindex="0" dir="ltr"><code><span class="line"><span style="color:#88846F;">// client-side</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> sharedWriter </span><span style="color:#F92672;">=</span><span style="color:#F92672;"> await</span><span style="color:#F8F8F2;"> logger.</span><span style="color:#A6E22E;">attachWriter</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;shared-writer&#39;</span><span style="color:#F8F8F2;">);</span></span></code></pre></div><p>All writers created by the server can be attached by clients.</p><h3 id="client-side-buffering" tabindex="-1">Client-side buffering <a class="header-anchor" href="#client-side-buffering" aria-label="Permalink to “Client-side buffering”">​</a></h3><p>In many cases you may want to buffer the data client-side and batch the sends to the server to avoid network congestion. This can be done on writers created or attach by the client by defining the <code>bufferSize</code> option.</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai" style="background-color:#272822;color:#F8F8F2;" tabindex="0" dir="ltr"><code><span class="line"><span style="color:#88846F;">// client-side</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> myWriter </span><span style="color:#F92672;">=</span><span style="color:#F92672;"> await</span><span style="color:#F8F8F2;"> logger.</span><span style="color:#A6E22E;">createWriter</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;buffered-writer&#39;</span><span style="color:#F8F8F2;">, { bufferSize: </span><span style="color:#AE81FF;">10</span><span style="color:#F8F8F2;"> });</span></span>
<span class="line"><span style="color:#88846F;">// data is buffered on the client side</span></span>
<span class="line"><span style="color:#F8F8F2;">myWriter.</span><span style="color:#A6E22E;">write</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;1&#39;</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"><span style="color:#F8F8F2;">myWriter.</span><span style="color:#A6E22E;">write</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;2&#39;</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"><span style="color:#88846F;">// ...</span></span>
<span class="line"><span style="color:#F8F8F2;">myWriter.</span><span style="color:#A6E22E;">write</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;10&#39;</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"><span style="color:#88846F;">// data is sent to the server</span></span></code></pre></div><h2 id="api" tabindex="-1">API <a class="header-anchor" href="#api" aria-label="Permalink to “API”">​</a></h2><h3 id="table-of-contents-1" tabindex="-1">Table of Contents <a class="header-anchor" href="#table-of-contents-1" aria-label="Permalink to “Table of Contents”">​</a></h3><ul><li><a href="#clientpluginlogger">ClientPluginLogger</a><ul><li><a href="#examples">Examples</a></li><li><a href="#createwriter">createWriter</a></li><li><a href="#attachwriter">attachWriter</a></li></ul></li><li><a href="#clientwriter">ClientWriter</a><ul><li><a href="#parameters-2">Parameters</a></li><li><a href="#name">name</a></li><li><a href="#pathname">pathname</a></li><li><a href="#write">write</a></li><li><a href="#flush">flush</a></li><li><a href="#close">close</a></li><li><a href="#onpacketsend">onPacketSend</a></li><li><a href="#onclose">onClose</a></li></ul></li><li><a href="#serverpluginlogger">ServerPluginLogger</a><ul><li><a href="#examples-1">Examples</a></li><li><a href="#switch">switch</a></li><li><a href="#createwriter-1">createWriter</a></li></ul></li><li><a href="#serverwriter">ServerWriter</a><ul><li><a href="#parameters-8">Parameters</a></li><li><a href="#name-1">name</a></li><li><a href="#pathname-1">pathname</a></li><li><a href="#write-1">write</a></li><li><a href="#close-1">close</a></li><li><a href="#onclose-1">onClose</a></li></ul></li></ul><h2 id="clientpluginlogger" tabindex="-1">ClientPluginLogger <a class="header-anchor" href="#clientpluginlogger" aria-label="Permalink to “ClientPluginLogger”">​</a></h2><p><strong>Extends ClientPlugin</strong></p><p>Client-side representation of the soundworks sync plugin.</p><p>The constructor should never be called manually. The plugin will be instantiated by soundworks when registered in the <code>pluginManager</code></p><h3 id="examples" tabindex="-1">Examples <a class="header-anchor" href="#examples" aria-label="Permalink to “Examples”">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki monokai" style="background-color:#272822;color:#F8F8F2;" tabindex="0" dir="ltr"><code><span class="line"><span style="color:#F8F8F2;">client.pluginManager.</span><span style="color:#A6E22E;">register</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;logger&#39;</span><span style="color:#F8F8F2;">, ClientPluginLogger);</span></span></code></pre></div><h3 id="createwriter" tabindex="-1">createWriter <a class="header-anchor" href="#createwriter" aria-label="Permalink to “createWriter”">​</a></h3><p>Create a writer.</p><h4 id="parameters" tabindex="-1">Parameters <a class="header-anchor" href="#parameters" aria-label="Permalink to “Parameters”">​</a></h4><ul><li><p><code>name</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank" rel="noreferrer">String</a></strong> Name of the writer. Used to generate the log file pathname.</p></li><li><p><code>options</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">Object</a></strong> Options for the writer. (optional, default <code>{}</code>)</p><ul><li><code>options.bufferSize</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank" rel="noreferrer">Number</a></strong> Number of writes buffered before sending the logs to the server. (optional, default <code>1</code>)</li><li><code>options.usePrefix</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank" rel="noreferrer">Boolean</a></strong> Whether the writer file should be prefixed with a <code>YYYY.MM.DD_hh.mm.ss_uid_</code> string. (optional, default <code>true</code>)</li><li><code>options.allowReuse</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank" rel="noreferrer">Boolean</a></strong> If <code>usePrefix</code> is false, allow to reuse an existing underlying file for the writer. New data will be appended to the file. Can be useful to log global information in the same file amongst different sessions. (optional, default <code>false</code>)</li></ul></li></ul><h3 id="attachwriter" tabindex="-1">attachWriter <a class="header-anchor" href="#attachwriter" aria-label="Permalink to “attachWriter”">​</a></h3><p>Attach to a shared writer created by the server. Can be useful to create files that gather information from multiple nodes.</p><h4 id="parameters-1" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-1" aria-label="Permalink to “Parameters”">​</a></h4><ul><li><p><code>name</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank" rel="noreferrer">String</a></strong> Name of the writer. Used to generate the log file pathname.</p></li><li><p><code>options</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">Object</a></strong> Options for the writer. (optional, default <code>{}</code>)</p><ul><li><code>options.bufferSize</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank" rel="noreferrer">Number</a></strong> Number of writes buffered before sending the logs to the server. (optional, default <code>1</code>)</li></ul></li></ul><h2 id="clientwriter" tabindex="-1">ClientWriter <a class="header-anchor" href="#clientwriter" aria-label="Permalink to “ClientWriter”">​</a></h2><p>Client-side stream writer.</p><p>Created and retrieved by the client-side <code>logger.createWriter(name, bufferSize)</code> and <code>logger.attachWriter(name, bufferSize)</code> methods.</p><h3 id="parameters-2" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-2" aria-label="Permalink to “Parameters”">​</a></h3><ul><li><code>plugin</code></li><li><code>state</code></li><li><code>bufferSize</code> (optional, default <code>1</code>)</li></ul><h3 id="name" tabindex="-1">name <a class="header-anchor" href="#name" aria-label="Permalink to “name”">​</a></h3><p>Name of the Writer.</p><h3 id="pathname" tabindex="-1">pathname <a class="header-anchor" href="#pathname" aria-label="Permalink to “pathname”">​</a></h3><p>Pathname of the Writer.</p><h3 id="write" tabindex="-1">write <a class="header-anchor" href="#write" aria-label="Permalink to “write”">​</a></h3><p>Format and write data.</p><ul><li>Successive write calls are added to a new line</li><li>Data can be of any type, it will be stringified before write.</li><li>TypedArrays are converted to Array before being stringified.</li></ul><h4 id="parameters-3" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-3" aria-label="Permalink to “Parameters”">​</a></h4><ul><li><code>data</code> <strong>Any</strong> Data to be written</li></ul><h3 id="flush" tabindex="-1">flush <a class="header-anchor" href="#flush" aria-label="Permalink to “flush”">​</a></h3><p>Flush the buffer, only applies if <code>bufferSize</code> option is set.</p><h3 id="close" tabindex="-1">close <a class="header-anchor" href="#close" aria-label="Permalink to “close”">​</a></h3><p>Close the writer.</p><p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">Promise</a></strong> Promise that resolves when the stream is closed</p><h3 id="onpacketsend" tabindex="-1">onPacketSend <a class="header-anchor" href="#onpacketsend" aria-label="Permalink to “onPacketSend”">​</a></h3><p>Register a function to be executed when a packet is sent on the network., i.e. when the buffer is full or flushed on close.</p><h4 id="parameters-4" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-4" aria-label="Permalink to “Parameters”">​</a></h4><ul><li><code>callback</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function" target="_blank" rel="noreferrer">Function</a></strong> Function to execute on close.</li></ul><p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function" target="_blank" rel="noreferrer">Function</a></strong> that unregister the listener when executed.</p><h3 id="onclose" tabindex="-1">onClose <a class="header-anchor" href="#onclose" aria-label="Permalink to “onClose”">​</a></h3><p>Register a function to be executed when the Writer is closed. The function will be executed after the buffer has been flushed and underlying state has been deleted, and before the <code>close</code> Promise resolves.</p><h4 id="parameters-5" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-5" aria-label="Permalink to “Parameters”">​</a></h4><ul><li><code>callback</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function" target="_blank" rel="noreferrer">Function</a></strong> Function to execute on close.</li></ul><p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function" target="_blank" rel="noreferrer">Function</a></strong> that unregister the listener when executed.</p><h2 id="serverpluginlogger" tabindex="-1">ServerPluginLogger <a class="header-anchor" href="#serverpluginlogger" aria-label="Permalink to “ServerPluginLogger”">​</a></h2><p><strong>Extends ServerPlugin</strong></p><p>Server-side representation of the soundworks logger plugin.</p><p>The constructor should never be called manually. The plugin will be instantiated by soundworks when registered in the <code>pluginManager</code></p><p>Available options:</p><ul><li><code>[dirname=null]</code> {String} - The directory in which the log files should be created. If <code>null</code> the plugin is in some &quot;idle&quot; state, and any call to <code>createWriter</code> (or client-side <code>attachWriter</code>) will throw an error. The directory can be changed at runtime using the <code>switch</code> method.</li></ul><h3 id="examples-1" tabindex="-1">Examples <a class="header-anchor" href="#examples-1" aria-label="Permalink to “Examples”">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki monokai" style="background-color:#272822;color:#F8F8F2;" tabindex="0" dir="ltr"><code><span class="line"><span style="color:#F8F8F2;">server.pluginManager.</span><span style="color:#A6E22E;">register</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;logger&#39;</span><span style="color:#F8F8F2;">, ServerPluginLogger, {</span></span>
<span class="line"><span style="color:#F8F8F2;">  dirname: </span><span style="color:#E6DB74;">&#39;my-logs&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">});</span></span></code></pre></div><h3 id="switch" tabindex="-1">switch <a class="header-anchor" href="#switch" aria-label="Permalink to “switch”">​</a></h3><p>Change the directory in which the log files are created. Closes all existing writers.</p><h4 id="parameters-6" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-6" aria-label="Permalink to “Parameters”">​</a></h4><ul><li><code>dirname</code> <strong>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank" rel="noreferrer">String</a> | <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">Object</a>)</strong> Path to the new directory. As a convenience to match the plugin filesystem API, an object containing the &#39;dirname&#39; key can also be passed.</li></ul><h3 id="createwriter-1" tabindex="-1">createWriter <a class="header-anchor" href="#createwriter-1" aria-label="Permalink to “createWriter”">​</a></h3><p>Create a writer.</p><h4 id="parameters-7" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-7" aria-label="Permalink to “Parameters”">​</a></h4><ul><li><p><code>name</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank" rel="noreferrer">String</a></strong> Name of the writer. Used to generate the log file pathname.</p></li><li><p><code>options</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">Object</a></strong> Options for the writer. (optional, default <code>{}</code>)</p><ul><li><code>options.usePrefix</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank" rel="noreferrer">Boolean</a></strong> Whether the writer file should be prefixed with a <code>YYYY.MM.DD_hh.mm.ss_uid_</code> string. (optional, default <code>true</code>)</li><li><code>options.allowReuse</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank" rel="noreferrer">Boolean</a></strong> If <code>usePrefix</code> is false, allow to reuse an existing underlying file for the writer. New data will be appended to the file. Can be useful to log global information in the same file amongst different sessions. (optional, default <code>false</code>)</li></ul></li></ul><h2 id="serverwriter" tabindex="-1">ServerWriter <a class="header-anchor" href="#serverwriter" aria-label="Permalink to “ServerWriter”">​</a></h2><p>Server-side stream writer.</p><p>Created and retrieved by the server-side <code>logger.createWriter(name)</code> method.</p><h3 id="parameters-8" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-8" aria-label="Permalink to “Parameters”">​</a></h3><ul><li><code>state</code></li><li><code>format</code> (optional, default <code>null</code>)</li></ul><h3 id="name-1" tabindex="-1">name <a class="header-anchor" href="#name-1" aria-label="Permalink to “name”">​</a></h3><p>Name of the Writer.</p><h3 id="pathname-1" tabindex="-1">pathname <a class="header-anchor" href="#pathname-1" aria-label="Permalink to “pathname”">​</a></h3><p>Pathname of the Writer.</p><h3 id="write-1" tabindex="-1">write <a class="header-anchor" href="#write-1" aria-label="Permalink to “write”">​</a></h3><p>Format and write data.</p><ul><li>Successive write calls are added to a new line</li><li>Data can be of any type, it will be stringified before write.</li><li>TypedArrays are converted to Array before being stringified.</li></ul><h4 id="parameters-9" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-9" aria-label="Permalink to “Parameters”">​</a></h4><ul><li><code>data</code> <strong>Any</strong> Data to be written</li></ul><h3 id="close-1" tabindex="-1">close <a class="header-anchor" href="#close-1" aria-label="Permalink to “close”">​</a></h3><p>Close the writer and the underlying stream.</p><p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">Promise</a></strong> Promise that resolves when the stream is closed</p><h3 id="onclose-1" tabindex="-1">onClose <a class="header-anchor" href="#onclose-1" aria-label="Permalink to “onClose”">​</a></h3><p>Register a function to be executed when the Writer is closed. The function will be executed when the underlying stream is closed and before the <code>close()</code> Promise is resolved.</p><h4 id="parameters-10" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-10" aria-label="Permalink to “Parameters”">​</a></h4><ul><li><code>callback</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function" target="_blank" rel="noreferrer">Function</a></strong> Function to execute on close.</li></ul><p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function" target="_blank" rel="noreferrer">Function</a></strong> that unregister the listener when executed.</p><h2 id="credits" tabindex="-1">Credits <a class="header-anchor" href="#credits" aria-label="Permalink to “Credits”">​</a></h2><p>The code has been initiated in the framework of the WAVE and CoSiMa research projects, funded by the French National Research Agency (ANR).</p><h2 id="license" tabindex="-1">License <a class="header-anchor" href="#license" aria-label="Permalink to “License”">​</a></h2><p>BSD-3-Clause</p></div></div></main><footer class="VPDocFooter" data-v-d668f7cc data-v-1bcd8184><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-1bcd8184><span class="visually-hidden" id="doc-footer-aria-label" data-v-1bcd8184>Pager</span><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link prev" href="/plugins/position.html" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Previous page</span><span class="title" data-v-1bcd8184>Plugin Position</span><!--]--></a></div><div class="pager" data-v-1bcd8184><a class="VPLink link vp-external-link-icon pager-link next" href="https://github.com/ircam-ismm/node-web-audio-api/" target="_blank" rel="noreferrer" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Next page</span><span class="title" data-v-1bcd8184>node-web-audio-api</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"api.md\":\"Hy3wBnac\",\"credits.md\":\"BrA1Pzee\",\"ecosystem_ecosystem.md\":\"BA_RphpA\",\"index.md\":\"C18x0pat\",\"introduction.md\":\"1VoA1VB0\",\"misc__contributing-to-this-site.md\":\"CYeTkNSK\",\"misc__deployment.md\":\"BngYWeyB\",\"misc__local-deployment.md\":\"GnHl-ltB\",\"misc__todo_electron-applications.md\":\"CC5baAKP\",\"misc_websockets-101.md\":\"C-gXDMS3\",\"plugins_checkin.md\":\"C6RM-Tm2\",\"plugins_filesystem.md\":\"FMZlAHa5\",\"plugins_license.md\":\"BACUdzM4\",\"plugins_logger.md\":\"WkoUpJQD\",\"plugins_platform-init.md\":\"CpKNubvr\",\"plugins_position.md\":\"IHw_x8tv\",\"plugins_scripting.md\":\"BmalzbyY\",\"plugins_soundworks-helpers.md\":\"Csh1b2RR\",\"plugins_sync.md\":\"BcOxYxrv\",\"recipes_working-with-max.md\":\"B376Sw62\",\"tools_helpers.md\":\"CZZB8W_o\",\"tools_license.md\":\"BbonFmD2\",\"tutorials__connected-lamp.md\":\"BNjt-enF\",\"tutorials__context.md\":\"BjuHZuxh\",\"tutorials_getting-started.md\":\"BpaQKx_Z\",\"tutorials_node-clients.md\":\"C9rZi5xs\",\"tutorials_plugin-platform-init.md\":\"CVSQ4ZSt\",\"tutorials_plugin-sync.md\":\"BD1vtBCG\",\"tutorials_state-manager.md\":\"DL2GqnxU\",\"tutorials_step-sequencer.md\":\"CBp3A5Ak\",\"tutorials_todo-noise.md\":\"C57Po1TH\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"soundworks\",\"description\":\"Creative coding framework for distributed applications based on Web technologies\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"/logo-nav.png\",\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/collective-soundworks/collective-soundworks.github.io\"}],\"search\":{\"provider\":\"local\"},\"nav\":[{\"text\":\"Guide\",\"link\":\"/tutorials/getting-started\"},{\"text\":\"soundworks API\",\"link\":\"https://soundworks.dev/soundworks\"},{\"text\":\"Credits\",\"link\":\"/credits\"}],\"sidebar\":[{\"text\":\"Introduction\",\"link\":\"/introduction\"},{\"text\":\"Tutorials\",\"items\":[{\"text\":\"Getting Started\",\"link\":\"/tutorials/getting-started\"},{\"text\":\"Using the State Manager\",\"link\":\"/tutorials/state-manager\"},{\"text\":\"Using Plugins 1 - <i>platform-init</i>\",\"link\":\"/tutorials/plugin-platform-init\"},{\"text\":\"The <i>Todo Noise</i> Application\",\"link\":\"/tutorials/todo-noise\"},{\"text\":\"Working with Node Clients\",\"link\":\"/tutorials/node-clients\"},{\"text\":\"Using Plugins 2 - <i>sync</i>\",\"link\":\"/tutorials/plugin-sync\"},{\"text\":\"Distributed Step Sequencer\",\"link\":\"/tutorials/step-sequencer\"}]},{\"text\":\"Recipes\",\"items\":[{\"text\":\"Working with Max\",\"link\":\"/recipes/working-with-max\"}]},{\"text\":\"Documentation\",\"items\":[{\"text\":\"soundworks API\",\"link\":\"https://soundworks.dev/soundworks\"},{\"text\":\"Helpers\",\"link\":\"/tools/helpers\"},{\"text\":\"Plugin Platform Init\",\"link\":\"/plugins/platform-init\"},{\"text\":\"Plugin Sync\",\"link\":\"/plugins/sync\"},{\"text\":\"Plugin Filesystem\",\"link\":\"/plugins/filesystem\"},{\"text\":\"Plugin Scripting\",\"link\":\"/plugins/scripting\"},{\"text\":\"Plugin Checkin\",\"link\":\"/plugins/checkin\"},{\"text\":\"Plugin Position\",\"link\":\"/plugins/position\"},{\"text\":\"Plugin Logger\",\"link\":\"/plugins/logger\"}]},{\"text\":\"Ecosystem\",\"items\":[{\"text\":\"node-web-audio-api\",\"link\":\"https://github.com/ircam-ismm/node-web-audio-api/\"},{\"text\":\"@ircam/sc-components\",\"link\":\"https://github.com/ircam-ismm/sc-components/\"},{\"text\":\"@ircam/sc-utils\",\"link\":\"https://github.com/ircam-ismm/sc-utils\"},{\"text\":\"@ircam/sc-scheduling\",\"link\":\"https://github.com/ircam-ismm/sc-scheduling/\"},{\"text\":\"@ircam/devicemotion\",\"link\":\"https://github.com/ircam-ismm/devicemotion\"},{\"text\":\"dotpi tools\",\"link\":\"https://ircam-ismm.github.io/dotpi/\"}]},{\"text\":\"Misc\",\"items\":[{\"text\":\"WebSockets 101\",\"link\":\"/misc/websockets-101\"}]}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false,\"additionalConfig\":{}}");</script>
    
  </body>
</html>